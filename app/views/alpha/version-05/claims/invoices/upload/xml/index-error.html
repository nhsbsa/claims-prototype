<!-- ADDING CUSTOM CSS - Add your custom CSS or Sass in /app/assets/sass/main.scss -->
{% set mainNavigation = [
{
name: 'Summary',
path: '/alpha/version-04/claims/summary/not-started'
},
{
name: 'Invoices',
path: '/alpha/version-04/claims/invoices/not-started',
active: true
},
{
name: 'Uploaded files',
path: '#'
},
{
name: 'History',
path: '#'
}
]
%}
<!-- Extends the layout from /views/layout-full-width-claim.html -->
{% extends 'layout-full-width-claim.html' %}
<!-- 
  In /views/layout.html you can:
    - change the header and footer 
    - add custom CSS and JavaScript
-->

<!-- Start of page title -->
{% block pageTitle %}
Error - Upload invoices - Manage incoming international healthcare claims - NHSBSA
{% endblock %}
<!-- End of page title -->

{% block beforeContent %}
<!-- Start of breadcrumb -->
<nav class="nhsuk-breadcrumb" aria-label="Breadcrumb">
    <div class="nhsuk-width-container-fluid">
        <ol class="nhsuk-breadcrumb__list">
            <li class="nhsuk-breadcrumb__item"><a class="nhsuk-breadcrumb__link" href="../../../../home">Home</a></li>
            <li class="nhsuk-breadcrumb__item"><a class="nhsuk-breadcrumb__link" href="../../../index">Claims
                </a></li>
        </ol>
        <p class="nhsuk-breadcrumb__back">
            <a class="nhsuk-breadcrumb__backlink" href="../../../index">
                <span class="nhsuk-u-visually-hidden">Back to &nbsp;</span>
                Claims
            </a>
        </p>
    </div>
</nav>
<!-- End of breadcrumb -->
{% endblock %}

<!-- Start of central content -->
{% block content %}

<!-- Start of error -->
<div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-two-thirds">

        <div class="nhsuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1">
            <h2 class="nhsuk-error-summary__title" id="error-summary-title">
                There is a problem
            </h2>
            <div class="nhsuk-error-summary__body">
                <ul class="nhsuk-list nhsuk-error-summary__list" role="list">
                    <li>
                        <a href="#file-upload">The selected file is empty</a>
                    </li>
                </ul>
            </div>
        </div>

    </div>
</div>
<!-- End of error -->

<!-- Start of back link -->
<div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-full">
        <div class="nhsuk-back-link">
            <a class="nhsuk-back-link__link" href="javascript:history.back()">
                <svg class="nhsuk-icon nhsuk-icon__chevron-left" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                    aria-hidden="true" height="24" width="24">
                    <path
                        d="M8.5 12c0-.3.1-.5.3-.7l5-5c.4-.4 1-.4 1.4 0s.4 1 0 1.4L10.9 12l4.3 4.3c.4.4.4 1 0 1.4s-1 .4-1.4 0l-5-5c-.2-.2-.3-.4-.3-.7z">
                    </path>
                </svg>
                Go back</a>
        </div>
    </div>
</div>
<!-- End of back link -->

<div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-full">
        <div class="nhsuk-grid-row">
            <div class="nhsuk-grid-column-full">
                <form id="checkFile" action="additional-file" method="post">
                    <legend class="nhsuk-fieldset__legend nhsuk-fieldset__legend--xl">
                        <h1 id="legend1" class="nhsuk-fieldset__heading">
                            <span class="nhsuk-caption-l">Add invoices</span>
                            Upload invoices
                        </h1>
                        <h1 id="legend2" style="display: none;" class="nhsuk-fieldset__heading">
                            <span class="nhsuk-caption-l">Add invoices</span>
                            Uploading invoices
                        </h1>
                    </legend>
            </div>
            <div id="uploadFile" class="nhsuk-grid-column-two-thirds">
                <div class="nhsuk-card nhsuk-u-margin-bottom-3">
                    <div class="nhsuk-card__content">

                        <!-- Upload -->
                        <div class="nhsuk-form-group nhsuk-form-group--error">
                            <div class="form-group">
                                <fieldset class="nhsuk-fieldset">
                                    <legend
                                        class="nhsuk-fieldset__legend nhsuk-fieldset__legend--s nhsuk-u-margin-bottom-1">
                                        <h1 class="nhsuk-fieldset__heading">
                                            Upload a file
                                        </h1>
                                    </legend>
                                    <div class="nhsuk-hint" id="article-hint">
                                        This must be an XML file.
                                    </div>
                                    <span class="nhsuk-error-message" id="example-error">
                                        <span class="nhsuk-u-visually-hidden">Error:</span> The selected file is empty
                                    </span>

                                    <div class="nhsuk-form-group nhsuk-grid-column-two-thirds"
                                        style="border:2px dashed #0b0c0c; padding:24px;">
                                        <!-- <label class="nhsuk-label" for="file-upload">
                                      Upload a file
                                    </label> -->
                                        <input class="nhsuk-file-upload" style="font-size:18px;" id="file-upload"
                                            name="file-upload" type="file">
                                    </div>

                                </fieldset>

                            </div>
                        </div>

                        <hr class="nhsuk-section-break nhsuk-section-break--m nhsuk-section-break--visible">
                        <button class="nhsuk-button" data-module="nhsuk-button" type="submit">
                            Continue
                        </button>

                    </div>
                </div>


                <a href="../../../summary/no-treatments" class="nhsuk-link">Cancel</a>
                </form>
            </div>
        </div>


        <div id="upload-progress" style="display: none;" class="nhsuk-grid-column-full" aria-hidden="true"
            tabindex="-1">
            <div class="nhsuk-loader">
                <p>Processing file.<br />This may take a few minutes. Do not close your browser.</p>
                <span class="nhsuk-loader__spinner"></span>
            </div>
        </div>


        <script>
            // Upload in progress visual indicator
            var submitForm = document.getElementById("checkFile");
            var uploadFile = document.getElementById("uploadFile");
            var uploadProgress = document.getElementById("upload-progress");

            submitForm.addEventListener("submit", function (e) {
                e.preventDefault();


                legend1.style.display = "none";
                legend2.style.display = "block";
                uploadFile.style.display = "none";
                uploadProgress.style.display = "block";
                uploadProgress.setAttribute("role", "alert");
                uploadProgress.setAttribute("aria-hidden", "false");
                uploadProgress.focus();

                setTimeout(function () {
                    submitForm.submit();
                }, 5000);
            });
        </script>






    </div>
</div>
{% endblock %}
<!-- End of central content -->